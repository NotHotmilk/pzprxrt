/*! @license pzpr.js v1375cc80 (c) 2009-2025 sabo2, MIT license
 *   https://github.com/sabo2/pzprv3 */
!function(e,i){"object"==typeof module&&module.exports?module.exports=[e,i]:pzpr.classmgr.makeCustom(e,i)}(["hogemashu"],{MouseEvent:{inputModes:{edit:["circle-shade","circle-unshade","circle-gray","clear","info-line"],play:["line","peke","info-line"]},autoedit_func:"qnum",autoplay_func:"line",mouseinput_other:function(){"circle-gray"===this.inputMode&&this.inputFixedNumber(3)},mouseinput_clear:function(){this.inputFixedNumber(-1)},inputqnum_main:function(e){var i=[-1,1,3,2],e=i.indexOf(e.qnum),e=-1===e?1:"left"===this.btn?i[(e+1)%i.length]:i[(e-1+i.length)%i.length];this.inputFixedNumber(e)}},KeyEvent:{enablemake:!0},Cell:{numberAsObject:!0,maxnum:3,setErrorPearl:function(){this.setCellLineError(1);var e=this.adjacent,i=this.adjborder;i.top.isLine()&&e.top.setCellLineError(0),i.bottom.isLine()&&e.bottom.setCellLineError(0),i.left.isLine()&&e.left.setCellLineError(0),i.right.isLine()&&e.right.setCellLineError(0)},setCellLineError:function(e){var i=this.bx,r=this.by;e&&this.seterr(1),this.board.borderinside(i-1,r-1,i+1,r+1).seterr(1)}},Board:{hasborder:1},LineGraph:{enabled:!0},Graphic:{irowake:!0,errcolor2:"rgb(192, 64, 64)",gridcolor_type:"LIGHT",circlefillcolor_func:"qnum2",circlestrokecolor_func:"qnum2",paint:function(){this.drawBGCells(),this.drawDashedGrid(),this.drawCircles(),this.drawPekes(),this.drawLines(),this.drawChassis(),this.drawTarget()},getCircleFillColor:function(e){return 1===e.qnum?1===e.error?this.errbcolor1:"white":2===e.qnum?1===e.error?this.errcolor1:this.quescolor:3===e.qnum?1===e.error?this.errcolor2:"gray":null},getCircleStrokeColor:function(e){return 1===e.qnum||3===e.qnum?1===e.error?this.errcolor1:this.quescolor:null}},Encode:{decodePzpr:function(e){this.decode4Cell()},encodePzpr:function(e){this.encode4Cell()}},FileIO:{decodeData:function(){this.decodeCellQnum(),this.decodeBorderLine()},encodeData:function(){this.encodeCellQnum(),this.encodeBorderLine()}},AnsCheck:{checklist:["checkLineExist+","checkBranchLine","checkCrossLine","checkWhitePearl1","checkBlackPearl1","checkGrayPearl1","checkBlackPearl2","checkWhitePearl2","checkGrayPearl2","checkNoLinePearl","checkDeadendLine+","checkNoLineIfVariant","checkOneLoop"],checkNoLinePearl:function(){this.checkAllCell(function(e){return e.isNum()&&0===e.lcnt},"mashuOnLine")},checkWhitePearl1:function(){for(var e=!0,i=this.board,r=0;r<i.cell.length;r++){var t=i.cell[r];if(1===t.qnum&&t.isLineCurve()){if(e=!1,this.checkOnly)break;t.setCellLineError(1)}}e||(this.failcode.add("mashuWCurve"),i.border.setnoerr())},checkBlackPearl1:function(){for(var e=!0,i=this.board,r=0;r<i.cell.length;r++){var t=i.cell[r];if(2===t.qnum&&t.isLineStraight()){if(e=!1,this.checkOnly)break;t.setCellLineError(1)}}e||(this.failcode.add("mashuBStrig"),i.border.setnoerr())},checkGrayPearl1:function(){for(var e=!0,i=this.board,r=0;r<i.cell.length;r++){var t=i.cell[r];if(3===t.qnum&&t.isLineStraight()){if(e=!1,this.checkOnly)break;t.setCellLineError(1)}}e||(this.failcode.add("hogemashuGStrig"),i.border.setnoerr())},checkWhitePearl2:function(){for(var e=!0,i=this.board,r=0;r<i.cell.length;r++){var t=i.cell[r];if(1===t.qnum&&2===t.lcnt){var n=t.adjacent,o=t.adjborder,l=0;if(o.top.isLine()&&n.top.isLineStraight()&&l++,o.bottom.isLine()&&n.bottom.isLineStraight()&&l++,o.left.isLine()&&n.left.isLineStraight()&&l++,o.right.isLine()&&n.right.isLineStraight()&&l++,!(l<2)){if(e=!1,this.checkOnly)break;t.setErrorPearl()}}}e||(this.failcode.add("mashuWStNbr"),i.border.setnoerr())},checkBlackPearl2:function(){for(var e=!0,i=this.board,r=0;r<i.cell.length;r++){var t=i.cell[r],n=t.adjacent,o=t.adjborder;if(2===t.qnum&&2===t.lcnt&&(o.top.isLine()&&n.top.isLineCurve()||o.bottom.isLine()&&n.bottom.isLineCurve()||o.left.isLine()&&n.left.isLineCurve()||o.right.isLine()&&n.right.isLineCurve())){if(e=!1,this.checkOnly)break;t.setErrorPearl()}}e||(this.failcode.add("mashuBCvNbr"),i.border.setnoerr())},checkGrayPearl2:function(){for(var e=!0,i=this.board,r=0;r<i.cell.length;r++){var t=i.cell[r],n=t.adjacent,o=t.adjborder;if(3===t.qnum&&2===t.lcnt){var l=[],s=(l.push(o.top.isLine()&&n.top.isLineCurve()),l.push(o.bottom.isLine()&&n.bottom.isLineCurve()),l.push(o.left.isLine()&&n.left.isLineCurve()),l.push(o.right.isLine()&&n.right.isLineCurve()),[]);if(s.push(o.top.isLine()&&n.top.isLineStraight()),s.push(o.bottom.isLine()&&n.bottom.isLineStraight()),s.push(o.left.isLine()&&n.left.isLineStraight()),s.push(o.right.isLine()&&n.right.isLineStraight()),1!==l.filter(Boolean).length||1!==s.filter(Boolean).length){if(e=!1,this.checkOnly)break;t.setErrorPearl()}}}e||(this.failcode.add("hogemashuGSet"),i.border.setnoerr())}}});